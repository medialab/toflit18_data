### Nettoyage de l'espace de travail
rm(list = ls())
Index_res_global_Imports <- read.csv2("./scripts/Edouard/Indice_global_value/Indice_global_filtre_ville_imports.csv",
row.names = NULL, dec = ",")
Index_res_global_Imports$Index <- 100*Index_res_global_Imports$Index/Index_res_global_Imports$Index[Index_res_global_Imports$year == 1789]
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_global_Imports$Part_value_national,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_global_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice global - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_global_Imports$Index)], Index_res_global_Imports$Index[!is.na(Index_res_global_Imports$Index)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_global_Imports$Index)),
ylim = c(40, 122))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Index value",side=2,line=2,cex = 0.8)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 0.8)
Index_res_global_Exports <- read.csv2("./scripts/Edouard/Indice_global_value/Indice_global_filtre_ville_exports.csv",
row.names = NULL, dec = ",")
Index_res_global_Exports$Index <- 100*Index_res_global_Exports$Index/Index_res_global_Exports$Index[Index_res_global_Exports$year == 1789]
Index_res_global_Imports <- read.csv2("./scripts/Edouard/Indice_global_value/Indice_global_filtre_ville_imports.csv",
row.names = NULL, dec = ",")
Index_res_global_Imports$Index <- 100*Index_res_global_Imports$Index/Index_res_global_Imports$Index[Index_res_global_Imports$year == 1789]
Index_res_global_Exports <- read.csv2("./scripts/Edouard/Indice_global_value/Indice_global_filtre_ville_exports.csv",
row.names = NULL, dec = ",")
Index_res_global_Exports$Index <- 100*Index_res_global_Exports$Index/Index_res_global_Exports$Index[Index_res_global_Exports$year == 1789]
Terme_echange <- merge(Index_res_global_Imports, Index_res_global_Exports, by = "year",
suffixes = c("_Imports", "_Exports"))
Terme_echange$Terme_echange <- Terme_echange$Index_Exports/Terme_echange$Index_Imports
plot(drop_na(Terme_echange[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, ylab = "Termes de léchange", xlab = "Année", main = "Evolution des termes de l'échange",
panel.first = grid())
library(dplyr)
library(tidyverse)
library(stringr)
library(readr)
library(pracma)
library(openxlsx)
library(hpiR)
library(corrplot)
library(ggplot2)
library(reshape2)
library(gdata)
### A définir: emplacement du working directory
setwd("C:/Users/pignede/Documents/GitHub/toflit18_data")
### Nettoyage de l'espace de travail
rm(list = ls())
Index_res <- read.csv2("./scripts/Edouard/Index_results.csv", row.names = NULL, dec = ",")
Index_res <- Index_res %>%
filter(Outliers == T & Outliers_coef == 10 & Trans_number == 0 & Prod_problems == F &
Product_select == F & Remove_double == T & Ponderation == T & Pond_log == F) %>%
select(c("Ville", "Exports_imports", "year", "Index_value", "Part_value")) %>%
filter(Ville != "Rennes")
Index_res_villes <- pivot_wider(Index_res, names_from = "Ville",
values_from = c("Index_value", "Part_value"))
Index_res_villes_Imports <- Index_res_villes %>%
filter(Exports_imports == "Imports") %>%
select(-c("Exports_imports")) %>%
arrange(year)
Index_res_villes_Imports <- Index_res_villes_Imports %>%
mutate(across(starts_with("Index_value"), function(x){return(100*x/x[length(x)])}))
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_global_Imports$Index)], Index_res_ville_Imports$Index_value_Nantes[!is.na(Index_res_villes_Imports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Nantes)),
ylim = c(40, 122))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Nantes)], Index_res_ville_Imports$Index_value_Nantes[!is.na(Index_res_villes_Imports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Nantes)),
ylim = c(40, 122))
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Nantes)], Index_res_villes_Imports$Index_value_Nantes[!is.na(Index_res_villes_Imports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Nantes)),
ylim = c(40, 122))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Nantes)], Index_res_villes_Imports$Index_value_Nantes[!is.na(Index_res_villes_Imports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Nantes)),
ylim = c(20, 122))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 0.8)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 0.8)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Nantes)], Index_res_villes_Imports$Index_value_Nantes[!is.na(Index_res_villes_Imports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Nantes)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Bordeaux,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Bordeaux - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Bordeaux)], Index_res_villes_Imports$Index_value_Bordeaux[!is.na(Index_res_villes_Imports$Index_value_Bordeaux)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Bordeaux)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Marseille,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Marseille - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Marseille)], Index_res_villes_Imports$Index_value_Marseille[!is.na(Index_res_villes_Imports$Index_value_Marseille)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Marseille)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Bayonne,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Bayonne - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Bayonne)], Index_res_villes_Imports$Index_value_Bayonne[!is.na(Index_res_villes_Imports$Index_value_Bayonne)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Bayonne)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_La Rochelle,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_La_Rochelle,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_La Rochelle,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$`Part_value_La Rochelle`,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$`Part_value_La Rochelle`,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$`Index_value_La Rochelle`)], Index_res_villes_Imports$`Index_value_La Rochelle`[!is.na(Index_res_villes_Imports$`Index_value_La Rochelle`)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$`Index_value_La Rochelle`)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
Index_res_villes_Exports <- Index_res_villes %>%
filter(Exports_imports == "Exports") %>%
select(-c("Exports_imports")) %>%
arrange(year)
Index_res_villes_Exports <- Index_res_villes_Exports %>%
mutate(across(starts_with("Index_value"), function(x){return(100*x/x[length(x)])}))
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Exports$`Part_value_La Rochelle`,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Exports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice La Rochelle - Exports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Exports$`Index_value_La Rochelle`)], Index_res_villes_Exports$`Index_value_La Rochelle`[!is.na(Index_res_villes_Exports$`Index_value_La Rochelle`)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Exports$`Index_value_La Rochelle`)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Imports$Part_value_Marseille,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Imports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Marseille - Imports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Imports$Index_value_Marseille)], Index_res_villes_Imports$Index_value_Marseille[!is.na(Index_res_villes_Imports$Index_value_Marseille)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Imports$Index_value_Marseille)),
ylim = c(18, 118))
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Exports$Part_value_Marseille,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Exports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Marseille - Exports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Exports$Index_value_Marseille)], Index_res_villes_Exports$Index_value_Marseille[!is.na(Index_res_villes_Exports$Index_value_Marseille)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Exports$Index_value_Marseille)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Exports$Part_value_Nantes,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Exports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Nantes - Exports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Exports$Index_value_Nantes)], Index_res_villes_Exports$Index_value_Nantes[!is.na(Index_res_villes_Exports$Index_value_Nantes)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Exports$Index_value_Nantes)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Exports$Part_value_Bayonne,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Exports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Bayonne - Exports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Exports$Index_value_Bayonne)], Index_res_villes_Exports$Index_value_Bayonne[!is.na(Index_res_villes_Exports$Index_value_Bayonne)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Exports$Index_value_Bayonne)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
# 2- Programmer des marges larges pour l'ajout ultérieur des titres des axes
par(mar=c(4,4,3,5))
# 3- On récupère dans position la position de chaque barre
position = barplot(Index_res_villes_Exports$Part_value_Bordeaux,
col = rgb(0.220, 0.220, 0.220, alpha = 0.2),
names.arg = Index_res_villes_Exports$year,
axes = F,
ylab = "", xlab = "",
main = "Indice Bordeaux - Exports",
ylim = c(0,1),
las = 2, space = 0, cex.main = 1)
# las = 2 : ce paramètre permet d'orienter le label de chaque barre verticalement
# 4- Configurer la couleur de l'axe de gauche (correspondant ici aux barres)
axis(4, col = "black", at = seq(0, 1, by = 0.2), lab = scales::percent(seq(0, 1, by = 0.2), accuracy = 1))
# 5- Superposer la courbe
par(new = TRUE, mar = c(4, 4, 3, 5))
maximal = max(position) + (position[2] - position[1])
plot(position[!is.na(Index_res_villes_Exports$Index_value_Bordeaux)], Index_res_villes_Exports$Index_value_Bordeaux[!is.na(Index_res_villes_Exports$Index_value_Bordeaux)],
col = "black", type = "o", lwd = 2,
pch = 16, axes = F, ylab = "", xlab = "",
xlim = c(0, length(Index_res_villes_Exports$Index_value_Bordeaux)),
ylim = c(18, 118))
# 6- Configurer l'axe de droite, correspondant à la coube
axis(2, col.axis = "black", col = "black")
box();grid()
mtext("Valeur de l'indice",side=2,line=2,cex = 1)
mtext("Part du commerce prise en compte dans l’indice \n(en valeur)", side = 4, col = "black", line = 3, cex = 1)
