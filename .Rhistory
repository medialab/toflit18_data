library(sp)
library(sf)
library(rgdal)
library(gstat)
library(automap)
library(raster)
library(stringr)
library(spatialEco)
library(exactextractr)
library(ncdf4)
library(tidyverse)
library(ncdump)
library(sf)
library(lattice)
library(RColorBrewer)
library(parallel)
library(chirps)
library("ggplot2")
theme_set(theme_bw())
library("sf")
library("rnaturalearth")
library("rnaturalearthdata")
library(rdhs)
### Chargement de la carte du Snégal
Senegal <- ne_states(country = "Senegal", returnclass = "sp")
install.packages("rnaturalearthhires", repos = "http://packages.ropensci.org", type = "source")
library(sp)
library(sf)
library(rgdal)
library(gstat)
library(automap)
library(raster)
library(stringr)
library(spatialEco)
library(exactextractr)
library(ncdf4)
library(tidyverse)
library(ncdump)
library(sf)
library(lattice)
library(RColorBrewer)
library(parallel)
library(chirps)
library("ggplot2")
theme_set(theme_bw())
library("sf")
library("rnaturalearth")
library("rnaturalearthdata")
library("rnaturalearthhires")
library(rdhs)
rm(list = ls())
### On se connecte à ma session DHS
set_rdhs_config(email = "edouard.pignede@ird.fr",
project = "Senegal vulnerability to climate change")
### On selectionne le DHS chargé que l'on veut télécharger
### SN => Sénégal ; FL => Flat file :plus rapide ;HR => Household Recode ; KR => children's recode
datasets_HR <- dhs_datasets(countryIds = "SN",
surveyYear = "2019",
fileFormat = "FL",
fileType = "HR" )
datasets_KR <- dhs_datasets(countryIds = "SN",
surveyYear = "2019",
fileFormat = "FL",
fileType = "KR" )
datasets_IR <- dhs_datasets(countryIds = "SN",
surveyYear = "2019",
fileFormat = "FL",
fileType = "IR" )
### On le télécharge
downloads_HR <- get_datasets(datasets_HR$FileName)
downloads_KR <- get_datasets(datasets_KR$FileName)
downloads_IR <- get_datasets(datasets_IR$FileName)
### On le charge sur R
data_hous <- readRDS(downloads_HR$SNHR8AFL)
data_child <- readRDS(downloads_KR$SNKR8AFL)
data_women <- readRDS(downloads_IR$SNIR8AFL)
data_women$v106
library(dplyr)
library(plyr)
library(tidyverse)
library(stringr)
library(readr)
library(pracma)
library(IndexNumR)
library(hpiR)
library(tidyverse)
read_sav("C:/Users/pignede/menage_final.sav")
install.packages("haven")
read_sav("C:/Users/pignede/menage_final.sav")
devtools::install_github("tidyverse/haven")
devtools::install_github("tidyverse/haven")
library(haven)
install.packages("haven")
library(haven)
read_sav("C:/Users/pignede/menage_final.sav")
read_sav("C:/Users/pignede/Telechargements/menage_final.sav")
read_sav("C:/Users/pignede/Downloads/menage_final.sav")
as.data.frame(read_sav("C:/Users/pignede/Downloads/menage_final.sav"))
a <- read_sav("C:/Users/pignede/Downloads/menage_final.sav")
a$id_menage
a$region
a$departement
a$M10
a$M9
library(sp)
library(xlsx)
library(stringr)
library(dplyr)
str_to_upper("Thèse")
### On charge l'ensemble des données
Mots_cles <- read.xlsx2("./Data/Mots-clés.xlsx",
sheetIndex = 1)
getwd()
source('C:/Users/pignede/Desktop/Exported.R', echo=TRUE)
source('C:/Users/pignede/Desktop/Exported.R', echo=TRUE)
source('C:/Users/pignede/Desktop/Exported.R', echo=TRUE)
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
### A définir: emplacement du working directory
setwd("C:/Users/pignede/Documents/GitHub/toflit18_data")
### Nettoyage de l'espace de travail
rm(list = ls())
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
Index_global_agriculture_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
library(dplyr)
library(tidyverse)
library(stringr)
library(readr)
library(pracma)
library(openxlsx)
library(hpiR)
library(corrplot)
library(ggplot2)
library(reshape2)
library(gdata)
### Nettoyage de l'espace de travail
rm(list = ls())
### A définir: emplacement du working directory
setwd("C:/Users/pignede/Documents/GitHub/toflit18_data")
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
Index_global_agriculture_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_agriculture_imports$Index_value <- 100*Index_global_agriculture_imports$Index_value/Index_global_agriculture_imports$Index_value[Index_global_agriculture_imports$year == 1789]
Index_global_agriculture_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_agriculture_exports$Index_value <- 100*Index_global_agriculture_exports$Index_value/Index_global_agriculture_exports$Index_value[Index_global_agriculture_exports$year == 1789]
Index_global_manufactures_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_imports$Index_value <- 100*Index_global_manufactures_imports$Index_value/Index_global_manufactures_imports$Index_value[Index_global_manufactures_imports$year == 1789]
Index_global_manufactures_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_exports$Index_value <- 100*Index_global_manufactures_exports$Index_value/Index_global_manufactures_exports$Index_value[Index_global_manufactures_exports$year == 1789]
Index_global_nonagr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_nonagr_imports$Index_value <- 100*Index_global_nonagr_imports$Index_value/Index_global_nonagr_imports$Index_value[Index_global_nonagr_imports$year == 1789]
Index_global_nonagr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_nonagr_exports$Index_value <- 100*Index_global_nonagr_exports$Index_value/Index_global_nonagr_exports$Index_value[Index_global_nonagr_exports$year == 1789]
plot(drop_na(Index_global_agriculture_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
plot(drop_na(Index_global_agriculture_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_manufactures_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_manufactures_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_nonagr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_nonagr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
Terme_echange_agriculture <- merge(Index_global_agriculture_imports, Index_global_agriculture_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_manufactures <- merge(Index_global_manufactures_imports, Index_global_manufactures_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_nonagr <- merge(Index_global_nonagr_imports, Index_global_nonagr_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_agriculture$Terme_echange <- Terme_echange_agriculture$Index_value_Exports / Terme_echange_agriculture$Index_value_Imports
Terme_echange_manufactures$Terme_echange <- Terme_echange_manufactures$Index_value_Exports / Terme_echange_manufactures$Index_value_Imports
Terme_echange_nonagr$Terme_echange <- Terme_echange_nonagr$Index_value_Exports / Terme_echange_nonagr$Index_value_Imports
plot(drop_na(Terme_echange[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, ylab = "Termes de léchange", xlab = "Année", main = "Evolution des termes de l'échange",
panel.first = grid())
plot(drop_na(Terme_echange_agriculture[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Terme_echange_manufactures[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "red")
plot(drop_na(Terme_echange_nonagr[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "green")
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
Index_global_col_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_col_agr_imports$Index_value <- 100*Index_global_col_agr_imports$Index_value/Index_global_col_agr_imports$Index_value[Index_global_col_agr_imports$year == 1789]
Index_global_col_agr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_col_agr_exports$Index_value <- 100*Index_global_col_agr_exports$Index_value/Index_global_col_agr_exports$Index_value[Index_global_col_agr_exports$year == 1789]
Index_global_manufactures_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_imports$Index_value <- 100*Index_global_manufactures_imports$Index_value/Index_global_manufactures_imports$Index_value[Index_global_manufactures_imports$year == 1789]
Index_global_manufactures_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_exports$Index_value <- 100*Index_global_manufactures_exports$Index_value/Index_global_manufactures_exports$Index_value[Index_global_manufactures_exports$year == 1789]
Index_global_eur_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_imports$Index_value <- 100*Index_global_eur_agr_imports$Index_value/Index_global_eur_agr_imports$Index_value[Index_global_eur_agr_imports$year == 1789]
Index_global_eur_agr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_exports$Index_value <- 100*Index_global_eur_agr_exports$Index_value/Index_global_eur_agr_exports$Index_value[Index_global_eur_agr_exports$year == 1789]
plot(drop_na(Index_global_col_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_col_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_manufactures_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Index_global_col_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
plot(drop_na(Index_global_col_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
Index_global_eur_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_imports$Index_value <- 100*Index_global_eur_agr_imports$Index_value/Index_global_eur_agr_imports$Index_value[Index_global_eur_agr_imports$year == 1789]
Index_global_eur_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_imports$Index_value <- 100*Index_global_eur_agr_imports$Index_value/Index_global_eur_agr_imports$Index_value[Index_global_eur_agr_imports$year == 1789]
Index_global_eur_agr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_exports$Index_value <- 100*Index_global_eur_agr_exports$Index_value/Index_global_eur_agr_exports$Index_value[Index_global_eur_agr_exports$year == 1789]
lines(drop_na(Index_global_eur_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
lines(drop_na(Index_global_eur_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
library(dplyr)
library(tidyverse)
library(stringr)
library(readr)
library(pracma)
library(openxlsx)
library(hpiR)
### A définir: emplacement du working directory
setwd("C:/Users/pignede/Documents/GitHub/toflit18_data")
### Nettoyage de l'espace de travail
rm(list = ls())
Index_partner <- read.csv2("./scripts/Edouard/Partner_index_results.csv", row.names = NULL)
Index_partner <- Index_partner %>%
mutate_if(is.character, as.factor) %>%
mutate(Partner = relevel(Partner, "All"),
Exports_imports = relevel(Exports_imports, "Imports")) %>%
filter(Ville != "Rennes")
Reg_trend_categ <- lm(log(Index_value) ~ year + Ville + Ville*year + Partner + Partner*year,
data = subset(Index_partner, Exports_imports == "Imports" & Partner != "All"))
summary(Reg_trend_categ)
Reg_trend_categ <- lm(log(Index_value) ~ year + Ville + Ville*year + Partner + Partner*year,
data = subset(Index_partner, Exports_imports == "Exports" & Partner != "All"))
summary(Reg_trend_categ)
library(dplyr)
library(tidyverse)
library(stringr)
library(readr)
library(pracma)
library(openxlsx)
library(hpiR)
library(corrplot)
library(ggplot2)
library(reshape2)
library(gdata)
### A définir: emplacement du working directory
setwd("C:/Users/pignede/Documents/GitHub/toflit18_data")
### Nettoyage de l'espace de travail
rm(list = ls())
Composition_index <- read.csv2("./scripts/Edouard/Composition_index_results_global.csv",
row.names = NULL, dec = ",")
Index_global_col_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_col_agr_imports$Index_value <- 100*Index_global_col_agr_imports$Index_value/Index_global_col_agr_imports$Index_value[Index_global_col_agr_imports$year == 1789]
Index_global_col_agr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary coloniaux") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_col_agr_exports$Index_value <- 100*Index_global_col_agr_exports$Index_value/Index_global_col_agr_exports$Index_value[Index_global_col_agr_exports$year == 1789]
Index_global_manufactures_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_imports$Index_value <- 100*Index_global_manufactures_imports$Index_value/Index_global_manufactures_imports$Index_value[Index_global_manufactures_imports$year == 1789]
Index_global_manufactures_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Manufactures") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_manufactures_exports$Index_value <- 100*Index_global_manufactures_exports$Index_value/Index_global_manufactures_exports$Index_value[Index_global_manufactures_exports$year == 1789]
Index_global_eur_agr_imports <- Composition_index %>%
filter(Exports_imports == "Imports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_imports$Index_value <- 100*Index_global_eur_agr_imports$Index_value/Index_global_eur_agr_imports$Index_value[Index_global_eur_agr_imports$year == 1789]
Index_global_eur_agr_exports <- Composition_index %>%
filter(Exports_imports == "Exports" & Product_sector == "Primary european") %>%
select(c("year", "Index_value", "Part_value"))
Index_global_eur_agr_exports$Index_value <- 100*Index_global_eur_agr_exports$Index_value/Index_global_eur_agr_exports$Index_value[Index_global_eur_agr_exports$year == 1789]
plot(drop_na(Index_global_col_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
plot(drop_na(Index_global_col_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_exports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
Terme_echange_col_agr <- merge(Index_global_col_agr_imports, Index_global_col_agr_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_manufactures <- merge(Index_global_manufactures_imports, Index_global_manufactures_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_eur_agr <- merge(Index_global_eur_agr_imports, Index_global_eur_agr_exports,
by = "year", suffixes = c("_Imports", "_Exports"))
Terme_echange_agriculture$Terme_echange <- Terme_echange_agriculture$Index_value_Exports / Terme_echange_agriculture$Index_value_Imports
Terme_echange_manufactures$Terme_echange <- Terme_echange_manufactures$Index_value_Exports / Terme_echange_manufactures$Index_value_Imports
Terme_echange_col_agr$Terme_echange <- Terme_echange_col_agr$Index_value_Exports / Terme_echange_agriculture$Index_value_Imports
Terme_echange_col_agr$Terme_echange <- Terme_echange_col_agr$Index_value_Exports / Terme_echange_col_agr$Index_value_Imports
Terme_echange_manufactures$Terme_echange <- Terme_echange_manufactures$Index_value_Exports / Terme_echange_manufactures$Index_value_Imports
Terme_echange_eur_agr$Terme_echange <- Terme_echange_eur_agr$Index_value_Exports / Terme_echange_eur_agr$Index_value_Imports
plot(drop_na(Terme_echange[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, ylab = "Termes de léchange", xlab = "Année", main = "Evolution des termes de l'échange",
panel.first = grid())
plot(drop_na(Terme_echange_col_agr[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "blue")
plot(drop_na(Terme_echange_manufactures[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "red")
plot(drop_na(Terme_echange_eur_agr[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "green")
plot(drop_na(Terme_echange_col_agr[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Terme_echange_manufactures[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "red")
lines(drop_na(Terme_echange_eur_agr[ , c("year", "Terme_echange")]), type = "o", pch = 19,
lwd = 2, col = "green")
plot(drop_na(Index_global_col_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2)
lines(drop_na(Index_global_manufactures_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "blue")
lines(drop_na(Index_global_eur_agr_imports[, c("year", "Index_value")]), type = "o", pch = 19,
lwd = 2, col = "red")
